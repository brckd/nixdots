---
title: Set up Nix
description: Learn how to quickly setup your Nix environment for my Nix config.
---

import { Aside, Steps, Tabs, TabItem } from "@astrojs/starlight/components";

## Platforms

My Nix config works on a variety of platforms. Follow the respective guides for
obtaining those if you haven't already. It is recommended to install Home
Manager on any of the listed operating systems.

<Tabs syncKey="nix-environment">
<TabItem label="NixOS">

Install
[NixOS](https://nixos.org/manual/nixos/stable/index.html#ch-installation) for
the most integrated experience.

</TabItem>
<TabItem label="Nix-on-Droid">

Install
[Nix-on-Droid](https://github.com/nix-community/nix-on-droid?tab=readme-ov-file#try-it-out)
for an experimental terminal experience on Android. This provides integrated
support for Home Manager, which therefore doesn't need to be installed
separately.

</TabItem>
<TabItem label="Home Manager">

Install
[Home Manager](https://nix-community.github.io/home-manager/index.xhtml#ch-nix-flakes)
for user configurations in any Nix environment. This is required for most of the
functionality of my Nix config.

</TabItem>
<TabItem label="Standalone Nix">

Use the
[Determinate Nix Installer](https://github.com/DeterminateSystems/nix-installer?tab=readme-ov-file#determinate-nix-installer)
(recommended) or the [default installer](https://nix.dev/install-nix.html) for
non-NixOS systems, such as Linux distributions, MacOS or WSL.

</TabItem>
</Tabs>

## Enable flakes

My Nix config heavily relies on Nix flakes to provide most of its features. These
aren't enabled by default on most Nix environments, so it's recommended but not
required to set them up before proceding.

<Tabs syncKey="nix-environment">
<TabItem label="NixOS">

```nix
# configuration.nix
nix.settings.experimental-features = [ "nix-command" "flakes" ];
```

</TabItem>
<TabItem label="Nix-on-Droid">

Nix-on-Droid has built-in experimental flakes support. No action is required.

</TabItem>
<TabItem label="Home Manager">

```nix
# configuration.nix
nix.settings.experimental-features = [ "nix-command" "flakes" ];
```

</TabItem>
<TabItem label="Standalone Nix">

If using Determinate Nix, this is not required.

```toml
# ~/.config/nix/nix.conf
experimental-features = nix-command flakes
```

</TabItem>
</Tabs>

## Clone the Git repository

My Nix config uses Git to keep track of versions. Clone the repository into an
accessible location.

<Steps>
<ol>
<li>

Fetch the Git repository.

<Tabs syncKey="source-control-provider">
<TabItem label="Git">

```sh
git clone https://codeberg.org/bricked/nix-config
```

</TabItem>
<TabItem label="Nix command">
<Tabs syncKey="flakes-enabled">
<TabItem label="Flakes enabled">

```sh
nix flake clone codeberg:bricked/nix-config --dest nix-config
```

</TabItem>
<TabItem label="Flakes disabled">

```sh
nix --experimental-features 'nix-command flakes' flake clone codeberg:bricked/nix-config --dest nix-config
```

</TabItem>
</Tabs>
</TabItem>
</Tabs>

</li>
<li>

Enter the cloned repository for all future instructions.

```sh
cd nix-config
```

</li>
</ol>
</Steps>

## Further reading

- [Enabling flakes temporarily](https://wiki.nixos.org/wiki/Flakes#Enable_flakes_temporarily)
